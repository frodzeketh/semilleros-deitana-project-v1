tabla: encargos

Alias: Encargos de siembra, pedidos de un cliente, siembra que ha realizado un cliente 

Descripcion: En esta seccion estan los encargos, se pueden realizar un encargo normal, es decir plantas comunes o un injerto. 

id: "Número de encargo (Clave Primaria)",
ENG_CCL: "Código del cliente. Clave foránea a la tabla 'clientes' para obtener la denominación (CL_DENO).",
ENG_ALM: "Código del almacén. Clave foránea a la tabla 'almacenes' para obtener la denominación (AM_DENO).",
ENG_FEC: "Fecha que se realizo el encargo",
ENG_VD: "Vendedor que gestionó el encargo. Clave foránea a la tabla 'vendedores' para obtener la denominación (VD_DENO).",
ENG_FP: "Forma de pago. Clave foránea a la tabla 'fpago' para obtener la denominación (FP_DENO).",
ENG_EST: "Estado del encargo ('C': Cerrado).",
ENG_USUG: "Usuario que gestionó el encargo.",
ENG_TP: TIPO DE TARIFA
ENG_CLFRA: Cliente de Facturación, tiene relacion con la tabla clientes, un cliente puede realizar un encargo, pero se le puede facturar a otro tipo de empresa, que contiene otro tipo de tarifa. Es importante si este campo tiene cliente de facturación por que afecta al precio final de tarifa. Tiene relacion con la tabla tarifas para saber la denominacion "TP_DENO"

Relacion de tabla muy importante:

tabla: partidas: 

Descripcion: Cuando un encargo es realizado, en la tabla partidas se almacenara lo que el cliente ha solicitado. (Partidas de Siembra Asociadas al Encargo). (relación uno a muchos).


id: ID de la partida.
PAR_FEC: Fecha que se registro la partida.
PAR_ENC: Numero de encargo asociado al encargo de siembra, un encargo de siembra puede tener multiples partidas que se relacionan entre si, ya se por partida tipo injerto o el cliente quiere cultivar varias plantas o simplemente en diferentes partidas. Pero un mismo encargo puede tener multiples partidas.
PAR_ENCL: Significa si el cliente trajo semillas o no, es decir, trajo sus propias semillas o la empresa se encarga de conseguirlas, esto modificara el precio. Solo Existe N (No entrega semilla) y D (Trajo semillas y hay que generar un deposito.)
PAR_TIPO: Tipo de partida, muy importante. N - Normal, I - Injerto, C - Componente Injerto, R - Reserva, L - Libre, H - Hidroponica, E - Ecológica, D - Descopada, O - Comprada otro semillero, X - Componente Externo
PAR_SEM: Semilla, planta, injerto a sembrar. El codigo que esta aqui, tiene relacion con la tabla articulos, a traves de id y AR_DENO para saber la denominacion. 
PAR_CCL: Codigo de cliente tiene relacion con la tabla clientes atraves de id y CL_DENO para la denominacion
PAR_CAS: Casa Comercial. Es cuando el cliente no trae semillas y la tenemos que conseguir, tiene relacion con la tabla casas_com a traves de id y CC_DENO pasa saber la denominacion de casa comercial.
PAR_LOTE: Lote sobre de semilla
PAR_PGER: % Germinacion
PAR_TSI: Tipo de siembra, tiene relacion con la tabla t-siembres a traves de id y TSI_DENO para saber la denominacion
PAR_SSI: Bandeja tiene relacion con la tabla bandejas atraves de id y BN_DENO para saber la denominacion
PAR_ALVP1: alveolos
PAR_PPA1: Plantas por alveolos
PAR_PPB1: Plantas por bandejas
PAR_SUST: Sustrato tiene relacion con la tabla sustratos atraves de id y para saber la denominacion SUS_DENO
PAR_EST:  Significa el estado de partida, si tiene "T" Es una partida terminada
PAR_ALVS: Alveolos solicitados
PAR_PLAS: Plantas Solicitadas
PAR_PLAP: Plantas aproximadas
PAR_PLS: Semillas a sembrar
PAR_BASI: Bandejas Siembra
PAR_FECS: Fecha de siembra
PAR_DIASS: Dias de siembra
PAR_FECE: Fecha de entrega
PAR_DIASG: Dias de Germinacion
PAR_TBAC: Tipo de bandeja actual, situacion actual de bandeja, tiene relacion con la tabla bandejas atraves de id y BN_DENO para saber la denominacion
PAR_STAC: Sustrato actual, situacion actual de sustrato, Sustrato tiene relacion con la tabla sustratos atraves de id y para saber la denominacion SUS_DENO
PAR_NACB: Numero de bandejas actual
PAR_APBA: Numero de Alveolos por bandeja actual
PAR_NACA: Numero alveolos actual por bandeja
PAR_PPAA: Numero de plantas por alveolo actual
PAR_NACP: Numero actual Plantas
PAR_PREV: Plantas revisadas
PAR_PDEF: Plantas Defectuosas
PAR_PGAC: % de germinacion actual
PAR_NMCL: Nombre de cliente
PAR_NMSM: Nombre de Semilla
PAR_FERS: Fecha Real de Siembra
PAR_ECOL: Es Ecologica? S es SI, N es NO
PAR_BIOL: Ecologica? S es SI, N es NO
PAR_SEMB: Sembrado? 
PAR_DENO: Nombre asignado a Partidas
PAR_FECES: Significa si el cliente quiere que sembremos enseguida o una fecha especifica, E significa que el cliente la quiere para una fecha especifica, S significa el quiere quiere que lo quiere rapido.
PAR_TPINJ: Tipo de injerto, solo esta PUA o APROX



Tabla de la base de datos: partidas_par_esta.

Alias: Estados de Partidas

Descripción: Controla y registra todos los estados por los que pasa una partida durante su ciclo de producción. Cada partida puede tener múltiples estados simultáneos con diferentes cantidades de bandejas, alveolos y plantas. El sistema permite un seguimiento detallado del flujo de plantas en cada etapa del proceso productivo.

id: Código de la partida (relacionado con tabla partidas).
id2: Código del estado (1-13).
C0: Cantidad de bandejas en este estado.
C1: Cantidad de alveolos en este estado.
C2: Cantidad de plantas en este estado.

Estados de Partidas (id2):
1: 01. REQUERIDO PRODUCCIÓN - Plantas que se necesitan producir.
2: 02. DISPONIBLE CLIENTE - Plantas listas para el cliente.
3: 03. RETIRADO CLIENTE - Plantas ya retiradas por el cliente.
4: 04. PTE. RETIRAR CLIENTE - Plantas pendientes de retirar por el cliente.
5: 05. TIRADAS - Plantas desechadas o perdidas.
6: 06. A VENTA - Plantas disponibles para venta libre, plantas a la venta, plantas libres.
7: 07. SEMBRADO/INJERTADO - Plantas sembradas o injertadas exitosamente.
8: 08. VENDIDO TOTAL - Total de plantas vendidas.
9: 09. ACTUALES - Estado actual de plantas.
10: 10. DESCUADRE ACTUAL - Diferencias negativas en el inventario.
11: 11. VENTA + DESCUADRE - Combinación de ventas y descuadres.
12: 12. EN RECUPERACIÓN - Plantas en proceso de recuperación.
13: 13. RESERVAS - Plantas reservadas para futuros pedidos.

Notas Importantes:
Valores negativos: Los estados 10 (DESCUADRE ACTUAL) y 11 (VENTA + DESCUADRE) pueden tener valores negativos indicando descuadres o pérdidas.
Múltiples estados: Una partida puede tener simultáneamente varios estados con diferentes cantidades.
Seguimiento flujo: Permite rastrear el movimiento de plantas desde siembra hasta entrega final.


Tabla de la base de datos: partidas_par_ubic.

Descripción: Registra la ubicación física de las partidas de siembra, permitiendo un seguimiento detallado. Contiene información sobre el invernadero, sector, fila y número de bandeja para cada partida.

id: ID de la partida, clave foránea a la tabla 'partidas'.
id2: Identificador secundario que aumenta si una partida se divide en varias ubicaciones.
C0: Invernadero. Ejemplo: 'A1'.
C1: Sector dentro del invernadero.
C2: Fila.
C4: Bandejas que quedan.

Relación: partidas.
Tabla Relacionada: partidas.
Tipo de Relación: Uno a muchos.
Campo de Enlace Local: id.
Campo de Enlace Externo: id.
Descripción: Vincula la ubicación con la partida de siembra a la que pertenece.

Ejemplos de Consulta:
consulta_ubicacion_por_partida: Obtener la ubicación de una partida específica usando su 'id'.
filtrar_por_invernadero: Listar todas las partidas ubicadas en un invernadero específico (filtrando por C0).
buscar_ubicacion_especifica: Encontrar la partida que se encuentra en una ubicación exacta (ej. Invernadero 'A1', Sector 'B', Fila '3', Bandeja '10').
actualizar_ubicacion_partida: Mover una partida a una nueva ubicación, actualizando los campos C0, C1, C2 y C3.

Relaciones importantes:

tabla: clientes

CL_DENO: Nombre del cliente.
CL_DOM: Dirección.
CL_POB: Población.
CL_PROV: Provincia.
CL_TEL: Teléfono.
CL_ZONA: Zona al que pertenece el cliente.
CL_TARI: Tarifa de precios asociada al cliente.
CL_FPAG: Forma de pago asociada al cliente.

Tabla de la base de datos: almacenes.

Descripción: Representa las delegaciones o almacenes físicos y operativos de la empresa. Sirve como referencia para identificar la ubicación asociada a una acción en el ERP y vincular recursos financieros por defecto.

Columnas y su descripción:
id: Código único de la delegación o almacén (Clave Primaria).
AM_DENO: Denominación o nombre de la delegación/almacén (Ej: 'GARDEN').

Tabla de la base de datos: vendedores.

Descripción: La tabla 'vendedores' del sistema ERP de Semilleros Deitana constituye el repositorio centralizado para la gestión de la información de los usuarios internos que desempeñan funciones de venta o que simplemente tienen acceso al sistema como usuarios.

Columnas y su descripción:
id: Código único que identifica a cada vendedor/usuario.
VD_DENO: Denominación o nombre completo del vendedor/usuario.

Tabla de la base de datos: fpago (Formas de pago/cobro).

id: Código único de la forma de pago/cobro (Clave Primaria).
FP_DENO: Denominación o descripción de la forma de pago (ej: 'RECIBO 90 DIAS F.F.').
FP_NVT: Número de vencimientos asociados.

Tabla de la base de datos: tarifas.

id: Código de tarifa (Ejemplo: "A").
TP_DENO: Denominación de tarifa.


Tabla de la base de datos: articulos.

Descripción: Nuestros artículos son los productos, insumos o bienes con los que trabajamos en Semilleros Deitana. Para cada uno registramos información clave como su descripción, categoría, unidad de medida, precio y características específicas, lo que nos permite asegurar su correcta gestión, control y trazabilidad en cada etapa del proceso. Incluye detalles de stock. Esta información se encuentra en el ERP en la sección del menú inferior Archivos – Generales – Artículos.

id: Código único del artículo (Clave Primaria).
AR_DENO: Denominación o descripción del artículo.
AR_REF: Referencia adicional del artículo.
AR_BAR: Código de barras del artículo.
AR_TIVA: Tipo de IVA aplicado al artículo.
AR_GRP: Código del grupo al que pertenece el artículo.
AR_FAM: Código de la familia del artículo. Clave foránea a la tabla 'familias'.
AR_PRV: Código del proveedor principal del artículo. Clave foránea a la tabla 'proveedores'. Si está vacío, el proveedor no está cargado o se adquirió de otra forma.
AR_WEB: Información adicional para la web.
AR_IVAP: IVA aplicado al precio.
AR_PGE: Porcentaje de germinación.
AR_DCG: Tiempo de germinacion en dias en camara.
Relaciones importantes:

Tabla de la base de datos: casas_com.

Descripción: Gestión y almacenamiento de información de las casas comerciales con las que Semilleros Deitana interactúa. Es fundamental para mantener un registro organizado de socios comerciales y sus datos clave.

Columnas y su descripción:
id: Identificador único de la casa comercial (Clave Primaria).
CC_DENO: Denominación casa comercial 
CC_POB: Población.

Tabla de la base de datos: t-siembras.

Descripción: Cataloga los diferentes tipos de siembra utilizados en la empresa, detallando las características clave como la bandeja, el sustrato, el número de alveolos y la densidad de plantas. También se vincula a los procesos y observaciones específicas de cada tipo de siembra.

Columnas y su descripción:
id: Identificador único del tipo de siembra (Clave Primaria).
TSI_DENO: Denominación del tipo de siembra.


Tabla de la base de datos: sustratos.

Descripción: Gestión y registro de materiales o mezclas utilizados como medio de cultivo. Esencial para control de costes, precios y planificación de materiales en la producción.

Columnas y su descripción:
id: Código único del sustrato (Clave Primaria).
SUS_DENO: Denominación o nombre descriptivo del sustrato (Ej: PERLITA PELIGRAM, SUST.ESPECIAL).